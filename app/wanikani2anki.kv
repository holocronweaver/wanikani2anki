#:kivy 1.0.9

#:set window_background_off_white (0.921569, 0.921569, 0.921569, 1)
#:set dark_text_color (0.333333, 0.333333, 0.333333, 1)

#:set input_background_white (0.964706, 0.964706, 0.964706, 1)
#:set input_text_grey (0.6, 0.6, 0.6, 1)
#:set error_text_reddish (0.725490, 0.290196, 0.282353, 1)
#:set error_text_background_grey (0.949020, 0.870588, 0.870588, 1)
#:set error_text_border_grey (0.831373, 0.831373, 0.831373, 1)

#:set background_light_grey (0.835294, 0.835294, 0.835294, 1)

#:set button_text_off_white (0.980392, 0.980392, 0.980392, 1)
#:set deep_pink (1, 0, 0.666667, 1)
#:set light_blue (0, 0.654901, 0.984313, 1)
#:set purple (0.596078, 0.196078, 0.698039, 1)

<ErrorLabel>:
    text: ''
    border_margin: 2
    color: error_text_reddish
    background_color: error_text_background_grey
    border_color: error_text_border_grey

<Margin@Label>:

<NavigationButton@Button>:
    font_size: 30
    color: button_text_off_white
    size_hint_y: None
    height: 50
    background_normal: ''

<NavigationWidget@BoxLayout>:
    size_hint_y: None
    height: self.children[0].height
    orientation: 'vertical'

    NavigationButton:
        text: 'Continue'
        on_press: app.root.next_screen()
        background_color: light_blue

    BoxLayout:
        size_hint_y: None
        height: self.children[0].height

        NavigationButton:
            text: 'Back'
            on_press: app.root.prev_screen()
            background_color: purple
        NavigationButton:
            text: 'Exit'
            on_press: exit()
            background_color: deep_pink

<DeckTypeButton@ToggleButton>:
    font_size: 30
    color: dark_text_color
    size_hint_y: None
    height: 100
    background_normal: ''
    background_color: background_light_grey
    halign: 'center'
    group: 'deck_type'



<APIKeyScreen>:
    canvas.before:
        Color:
            rgba: window_background_off_white
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        size: self.parent.size
        orientation: 'vertical'

        Image:
            source: 'media/images/WaniKani2AnkiLogo.png'
            height: '256px'
            size_hint_y: None

        Label:
            # font_name: 'media/_NotoSansCJKjp-Regular.min'
            text: 'WaniKani 2 Anki'
            font_size: 40
            color: dark_text_color
            height: 50
            size_hint_y: None

        Label:
            # font_name: 'media/_NotoSansCJKjp-Regular.min'
            text: 'Create a personalized Anki deck from your WaniKani account.'
            font_size: 25
            height: 50
            size_hint_y: None
            color: dark_text_color

        Margin:

        ErrorLabel:
            id: error_label
            font_size: 16
            size_hint_y: None
            height: 40
            # background_color:
            # foreground_color: error_text_border_grey

        Margin:
            size_hint_y: None
            height: 20

        BoxLayout:
            height: 50
            size_hint_y: None

            Margin:

            Label:
                # font_name: 'media/_NotoSansCJKjp-Regular.min'
                text: 'WaniKani API V2 key   '
                font_size: 18
                text_size: self.size
                halign: 'right'
                valign: 'middle'
                color: dark_text_color
                width: 180
                size_hint_x: None

            TextInputPlus:
                id: apikey_input
                on_text_validate: root.process_apikey()
                text: ''
                foreground_color: input_text_grey
                background_color: input_background_white
                focus: True
                multiline: False
                font_size: 30
                width: 590
                size_hint_x: None

            Margin:


        Label:
            # font_name: 'media/_NotoSansCJKjp-Regular.min'
            # font_name: 'media/Ubuntu-R'
            font_size: 16
            text: u'Your API key can be found on the WaniKani website under Menu -> Settings -> Account -> API Version 2.'
            color: dark_text_color
            size_hint_y: None
            height: 60

        NavigationButton:
            text: 'Start'
            on_press: root.process_apikey()
            background_color: light_blue

        NavigationButton:
            text: 'Exit'
            on_press: exit()
            background_color: deep_pink


<PickDeckTypeScreen>:
    BoxLayout:
        size: self.parent.size
        orientation: 'vertical'

        Label:
            text: 'Choose a deck type'
            font_size: 30
            color: button_text_off_white

        DeckTypeButton:
            text: 'Classic\n' + 'Match WaniKani as closely as possible.'
            deck_type: 'classic'
        DeckTypeButton:
            text: 'Plus\n' + 'Make a few improvements over WaniKani.'
            deck_type: 'plus'
        DeckTypeButton:
            text: 'Advanced\n' + 'Choose your own mix of deck options.'
            deck_type: 'advanced'

        NavigationWidget:


<AdvancedDeckOptionsScreen>:



<DownloadScreen>:
    ProgressBar:
        id: progress
        max: 100

    NavigationButton:
        text: 'Start Download'
        on_press: root.next_screen()
        background_color: light_blue
    NavigationButton:
        text: 'Cancel'
        on_press: root.prev_screen()
        background_color: deep_pink


<FinishScreen>:
